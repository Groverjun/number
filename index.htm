<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>文字滚动</title>
<style>
#all{
	width: 100%;
	margin: 0 auto;
	background: #ffffff;
}
#all .t_num i {
	width: 33px;
	height: 47px;
	display: inline-block;
	background: url(img/number1.png) no-repeat;
	background-position: 0 0;
}
</style>


</head>

<body>

<div id="all">
	<span class="t_num t_num1"></span>
</div>
<script type="text/javascript" src="js\jquery.min.js"></script>
<script type="text/javascript" src="js\digitalScroll.js"></script>
<script type="text/javascript">
window.onload=function(){
	
}

var sum =100;
$(function() {
	setInterval(function(){
		show_num1(sum)
	},1000);
});
function show_num1(n) {
	var i=0;
	var data= new Date();
	var time=data.getHours();
	var minu= data.getMinutes();
	var sec=data.getSeconds();
	var times=(time*3600)+(minu*60)+sec;/*当前时间的总秒数**/
	if(times>=0&&times<=32400){/*32400*/
		/* 0:00-9:00  */
		i=10;
		console.log(times)
	}else if(times>=32400&&times<=43200){/*10800*/
		/* 9:00-12:00*/
		i=100;
		console.log(times)
	}else if(times>=43200&&times<=61200){/*18000*/
		/* 12:00-17:00*/
		i=500;
		console.log(times)
	}else if(times>=61200&&times<=75600){/*14400*/
		/* 17:00-21:00*/
		i=300;
		console.log(i)
		sum=sum+i;
		/*
		 * 假设：在17:30打开时：
		 * 初始化总数：
		 * (32400*10)+   0:00-9:00时的总秒数
		 * (10800*100)+   9:00-12:00时的总秒数
		 * (18000*100)+   12:00-17:00时的总秒数
		 * (times-61200)   17点到当前时间的秒数
		 */
//		sum=100+(32400*10)+ (10800*100)+(18000*100)+(times-61200)
		

	}else if(time>=75600&&time<=86400){/*10800*/
		/* 21:00-24:00*/
		i=100;
		console.log(time);
	}
	
	var it = $(".t_num1 i");
	var len = String(n).length;
	for(var i = 0; i < len; i++) {
		if(it.length <= i) {
			$(".t_num1").append("<i></i>");
		}
		var num = String(n).charAt(i);
		//根据数字图片的高度设置相应的值
		var y = -parseInt(num) * 58;
		var obj = $(".t_num1 i").eq(i);
		obj.animate({
			backgroundPosition: '(0 ' + String(y) + 'px)'
		}, 'slow', 'swing', function() {});
	}
	$("#cur_num").val(n);
	
}
</script>
</body>
</html>
